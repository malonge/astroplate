---
import Base from "@/layouts/Base.astro";
import PageHeader from "@/partials/PageHeader.astro";
import Notice from "@/layouts/shortcodes/Notice.tsx";
import cvData from "@/config/cv.json";
---

<Base title="Publications">
  <PageHeader title="Publications" />
  <section class="section-sm">
    <div class="container">
      <div class="row justify-center">
        <div class="lg:col-10">
          <div class="content">
            <Notice type="note" client:load>
              For a complete and up-to-date list of my publications, including citation metrics, please visit my <a href={cvData.basics.profiles.find(p => p.network === "Google Scholar")?.url} target="_blank" rel="noopener noreferrer" class="text-primary hover:text-primary-dark underline">Google Scholar profile</a>.
            </Notice>
            <div class="space-y-8">
              {cvData.publications.map((publication, index) => (
                <div class="publication-item border-b border-gray-200 pb-6 last:border-b-0">
                  <div class="flex flex-col space-y-2">
                    <div class="flex items-start justify-between">
                      <h3 class="text-lg font-semibold text-dark dark:text-white leading-tight pr-4">
                        {publication.name}
                        {publication.firstAuthor && (
                          <span class="text-sm font-normal text-primary ml-2">(first author)</span>
                        )}
                      </h3>
                      <span class="text-sm text-gray-600 dark:text-gray-400 whitespace-nowrap">
                        {publication.releaseDate}
                      </span>
                    </div>
                    
                    <p class="text-base font-medium text-gray-700 dark:text-gray-300">
                      {publication.publisher}
                    </p>
                    
                    {publication.summary && (
                      <p class="text-gray-600 dark:text-gray-400 leading-relaxed">
                        {publication.summary}
                      </p>
                    )}
                    
                    {publication.url && (
                      <a 
                        href={publication.url} 
                        target="_blank" 
                        rel="noopener noreferrer"
                        class="text-primary hover:text-primary-dark underline text-sm inline-block mt-2"
                      >
                        View Publication â†’
                      </a>
                    )}
                  </div>
                </div>
              ))}
            </div>
            
            <div class="mt-12 p-6 bg-gray-50 dark:bg-gray-800 rounded-lg">
              <p class="text-sm text-gray-600 dark:text-gray-400 text-center">
                Total publications: {cvData.publications.length}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</Base>
